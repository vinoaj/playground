<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <met id="elem1" a name="viewport" content="width=device-width, initial-scale=1">
    <div id="elem2">Element 2</div>

    <title></title>

    <!-- <link rel="stylesheet" href="css/main.css"> -->
    <!-- <link rel="icon" href="images/favicon.png"> -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

    <!-- Google Tag Manager -->
    <script>
      var dataLayer = [];

      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
          'gtm.start': new Date().getTime(),
          event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-WHK5Q22');
    </script>
    <!-- End Google Tag Manager -->

    <script>
      window.addEventListener("track-analytics-event", function (e) {
        console.log(e);
        window.ga("send", "event", e.detail.category, e.detail.action, e.detail.label, e.detail.value);
        window.dataLayer.push({
          'event': 'track-analytics-event',
          'eventData': {
            'category': e.detail.category,
            'action': e.detail.action,
            'label': e.detail.label,
            'value': e.detail.value
          }
        });
      });
    </script>
</head>

<body>
  <h1>Kerika Testing</h1>
  <div id="elem1">Element 1</div>
  <div id="elem2">Element 2</div>
  <script>
    document.getElementById('elem1').addEventListener('click', function (e) {
      window.dispatchEvent(new CustomEvent('track-analytics-event', {
        'detail': {
          'category': 'Cat1',
          'action': 'Act1'
        }
      }));
    });
  </script>
</body>
</html>
